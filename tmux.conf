#bind -g = bind everything everywhere (unless overwritten)
#bind -r = keybind repeatable without re-sending the prefix for a short while
#bind -n = no prefix required
#bind -T mode = bind only in [mode] mode
#bind -c client
unbind C-b
set -g prefix C-j
bind C-j send-prefix
set -g mouse off
set-option -g display-time 4000

bind-key -n C-w switch-client -T window-jump-tab
bind-key -T window-jump-tab h if-shell "ps -o state= -o comm= -t '#{pane_tty}' | grep -iqE '^[^TXZ ]+ +(\S+/)?g?\.?(view|l?n?vim?x?|fzf)(diff)?(-wrapped)?\$'" "send-keys 'C-w' 'h'" "select-pane -L"
bind-key -T window-jump-tab j if-shell "ps -o state= -o comm= -t '#{pane_tty}' | grep -iqE '^[^TXZ ]+ +(\S+/)?g?\.?(view|l?n?vim?x?|fzf)(diff)?(-wrapped)?\$'" "send-keys 'C-w' 'j'" "select-pane -D"
bind-key -T window-jump-tab k if-shell "ps -o state= -o comm= -t '#{pane_tty}' | grep -iqE '^[^TXZ ]+ +(\S+/)?g?\.?(view|l?n?vim?x?|fzf)(diff)?(-wrapped)?\$'" "send-keys 'C-w' 'k'" "select-pane -U"
bind-key -T window-jump-tab l if-shell "ps -o state= -o comm= -t '#{pane_tty}' | grep -iqE '^[^TXZ ]+ +(\S+/)?g?\.?(view|l?n?vim?x?|fzf)(diff)?(-wrapped)?\$'" "send-keys 'C-w' 'l'" "select-pane -R"
# bind -T window-jump-tab h select-pane -L
# bind -T window-jump-tab j select-pane -D
# bind -T window-jump-tab k select-pane -U
# bind -T window-jump-tab l select-pane -R

bind < resize-pane -L 4
bind - resize-pane -D 4
bind + resize-pane -U 4
bind > resize-pane -R 4

unbind '"'
unbind %
bind v split-window -h -c "#{pane_current_path}"
bind s split-window -v -c "#{pane_current_path}"
bind n split-window -c "#{pane_current_path}" \; select-layout main-vertical
unbind Space
bind Space select-layout main-vertical
unbind z
bind z swap-pane -s :.0
bind Z resize-pane -Z
set -g main-pane-width 60%

unbind x
unbind q
bind q confirm-before -p "Quit pane #P? [yN]" kill-pane \; select-layout main-vertical

set -g mode-keys vi
bind -T copy-mode-vi v send -X begin-selection
bind -T copy-mode-vi y send -X copy-selection-and-cancel
bind -T copy-mode-vi Escape send -X cancel
bind -T copy-mode-vi C-v send -X rectangle-toggle
unbind -T copy-mode-vi P
bind P run "tmux set-buffer -- \"$(xclip -o -sel clipboard)\"; tmux paste-buffer -p"
bind V copy-mode
unbind p
unbind ]
bind p paste-buffer -p

bind N previous-window

set -g default-terminal "tmux-256color"
set -g status-bg "color9"
set -g status-fg "color0"
set -g status-left "[#S] "
set -g status-right "%m/%d/%Y %a %I:%M:%S:%p"
set-window-option -g window-status-current-style "fg=color0"
set -g pane-border-style "bg=color0,fg=color3"
set -g pane-active-border-style "bg=color9,fg=color0"

run-shell "/bin/sh -c '/usr/share/tmux-plugin-manager/bin/install_plugins'"
run-shell "/bin/sh -c '/usr/share/tmux-plugin-manager/bin/update_plugins all'"
run-shell "/bin/sh -c '/usr/share/tmux-plugin-manager/bin/clean_plugins'"

set -g @plugin 'tmux-plugins/tpm'

set -g @plugin 'tmux-plugins/tmux-sensible'

set -g @yank_line 'none'
set -g @yank_pane_pwd 'none'
set -g @yank_action 'copy-pipe-and-cancel'
set -g @yank_with_mouse off
set -g @copy_mode_yank 'Y'
set -g @copy_mode_put 'C-y'
set -g @shell_mode 'vi'
set -g @plugin 'tmux-plugins/tmux-yank'

set -g @tpm-install 'none'
set -g @tpm-update 'none'
set -g @tpm-clean 'none'
run '/usr/share/tmux-plugin-manager/tpm'

# Unbind all mouse-related key bindings
unbind-key -T root MouseDown1Pane
unbind-key -T root MouseDrag1Pane
unbind-key -T root MouseDown2Pane
unbind-key -T root MouseDrag2Pane
unbind-key -T root MouseDown3Pane
unbind-key -T root MouseDrag3Pane
unbind-key -T root MouseDragEnd1Pane
unbind-key -T root WheelUpPane
unbind-key -T root WheelDownPane
unbind-key -T root DoubleClick1Pane
unbind-key -T root TripleClick1Pane
unbind-key -T root DoubleClick2Pane
unbind-key -T root TripleClick2Pane
unbind-key -T root DoubleClick3Pane
unbind-key -T root TripleClick3Pane
unbind-key -T root MouseDragEnd1Pane
unbind-key -T root WheelUpPane
unbind-key -T root WheelDownPane
unbind-key -T root MouseDown1Status
unbind-key -T root MouseDown2Status
unbind-key -T root MouseDown3Status
unbind-key -T root MouseDown1StatusLeft
unbind-key -T root MouseDown2StatusLeft
unbind-key -T root MouseDown3StatusLeft
unbind-key -T root MouseDown1StatusRight
unbind-key -T root MouseDown2StatusRight
unbind-key -T root MouseDown3StatusRight
unbind-key -T root WheelUpStatus
unbind-key -T root WheelDownStatus
unbind-key -T root MouseDrag1Border
unbind-key -T root MouseDrag2Border
unbind-key -T root MouseDrag3Border
unbind-key -T root M-MouseDown1Pane
unbind-key -T root M-MouseDown2Pane
unbind-key -T root M-MouseDown3Pane
unbind-key -T root M-MouseDown1Status
unbind-key -T root M-MouseDown2Status
unbind-key -T root M-MouseDown3Status
unbind-key -T root M-MouseDown1StatusLeft
unbind-key -T root M-MouseDown2StatusLeft
unbind-key -T root M-MouseDown3StatusLeft
unbind-key -T root M-MouseDown1StatusRight
unbind-key -T root M-MouseDown2StatusRight
unbind-key -T root M-MouseDown3StatusRight
unbind-key -T copy-mode MouseDown1Pane
unbind-key -T copy-mode MouseDrag1Pane
unbind-key -T copy-mode MouseDown2Pane
unbind-key -T copy-mode MouseDrag2Pane
unbind-key -T copy-mode MouseDown3Pane
unbind-key -T copy-mode MouseDrag3Pane
unbind-key -T copy-mode MouseDragEnd1Pane
unbind-key -T copy-mode WheelUpPane
unbind-key -T copy-mode WheelDownPane
unbind-key -T copy-mode DoubleClick1Pane
unbind-key -T copy-mode TripleClick1Pane
unbind-key -T copy-mode DoubleClick2Pane
unbind-key -T copy-mode TripleClick2Pane
unbind-key -T copy-mode DoubleClick3Pane
unbind-key -T copy-mode TripleClick3Pane
unbind-key -T copy-mode MouseDragEnd1Pane
unbind-key -T copy-mode WheelUpPane
unbind-key -T copy-mode WheelDownPane
unbind-key -T copy-mode MouseDown1Status
unbind-key -T copy-mode MouseDown2Status
unbind-key -T copy-mode MouseDown3Status
unbind-key -T copy-mode MouseDown1StatusLeft
unbind-key -T copy-mode MouseDown2StatusLeft
unbind-key -T copy-mode MouseDown3StatusLeft
unbind-key -T copy-mode MouseDown1StatusRight
unbind-key -T copy-mode MouseDown2StatusRight
unbind-key -T copy-mode MouseDown3StatusRight
unbind-key -T copy-mode WheelUpStatus
unbind-key -T copy-mode WheelDownStatus
unbind-key -T copy-mode MouseDrag1Border
unbind-key -T copy-mode MouseDrag2Border
unbind-key -T copy-mode MouseDrag3Border
unbind-key -T copy-mode M-MouseDown1Pane
unbind-key -T copy-mode M-MouseDown2Pane
unbind-key -T copy-mode M-MouseDown3Pane
unbind-key -T copy-mode M-MouseDown1Status
unbind-key -T copy-mode M-MouseDown2Status
unbind-key -T copy-mode M-MouseDown3Status
unbind-key -T copy-mode M-MouseDown1StatusLeft
unbind-key -T copy-mode M-MouseDown2StatusLeft
unbind-key -T copy-mode M-MouseDown3StatusLeft
unbind-key -T copy-mode M-MouseDown1StatusRight
unbind-key -T copy-mode M-MouseDown2StatusRight
unbind-key -T copy-mode M-MouseDown3StatusRight
unbind-key -T copy-mode-vi MouseDown1Pane
unbind-key -T copy-mode-vi MouseDrag1Pane
unbind-key -T copy-mode-vi MouseDown2Pane
unbind-key -T copy-mode-vi MouseDrag2Pane
unbind-key -T copy-mode-vi MouseDown3Pane
unbind-key -T copy-mode-vi MouseDrag3Pane
unbind-key -T copy-mode-vi MouseDragEnd1Pane
unbind-key -T copy-mode-vi WheelUpPane
unbind-key -T copy-mode-vi WheelDownPane
unbind-key -T copy-mode-vi DoubleClick1Pane
unbind-key -T copy-mode-vi TripleClick1Pane
unbind-key -T copy-mode-vi DoubleClick2Pane
unbind-key -T copy-mode-vi TripleClick2Pane
unbind-key -T copy-mode-vi DoubleClick3Pane
unbind-key -T copy-mode-vi TripleClick3Pane
unbind-key -T copy-mode-vi MouseDragEnd1Pane
unbind-key -T copy-mode-vi WheelUpPane
unbind-key -T copy-mode-vi WheelDownPane
unbind-key -T copy-mode-vi MouseDown1Status
unbind-key -T copy-mode-vi MouseDown2Status
unbind-key -T copy-mode-vi MouseDown3Status
unbind-key -T copy-mode-vi MouseDown1StatusLeft
unbind-key -T copy-mode-vi MouseDown2StatusLeft
unbind-key -T copy-mode-vi MouseDown3StatusLeft
unbind-key -T copy-mode-vi MouseDown1StatusRight
unbind-key -T copy-mode-vi MouseDown2StatusRight
unbind-key -T copy-mode-vi MouseDown3StatusRight
unbind-key -T copy-mode-vi WheelUpStatus
unbind-key -T copy-mode-vi WheelDownStatus
unbind-key -T copy-mode-vi MouseDrag1Border
unbind-key -T copy-mode-vi MouseDrag2Border
unbind-key -T copy-mode-vi MouseDrag3Border
unbind-key -T copy-mode-vi M-MouseDown1Pane
unbind-key -T copy-mode-vi M-MouseDown2Pane
unbind-key -T copy-mode-vi M-MouseDown3Pane
unbind-key -T copy-mode-vi M-MouseDown1Status
unbind-key -T copy-mode-vi M-MouseDown2Status
unbind-key -T copy-mode-vi M-MouseDown3Status
unbind-key -T copy-mode-vi M-MouseDown1StatusLeft
unbind-key -T copy-mode-vi M-MouseDown2StatusLeft
unbind-key -T copy-mode-vi M-MouseDown3StatusLeft
unbind-key -T copy-mode-vi M-MouseDown1StatusRight
unbind-key -T copy-mode-vi M-MouseDown2StatusRight
unbind-key -T copy-mode-vi M-MouseDown3StatusRight

